<script>
	import * as _ from 'lamb';

	export let getLonLat = _.identity;
	export let items = [];
	export let projectFn = _.identity;

	$: markers = _.map(items, item => {
		if (!(projectFn && getLonLat)) {
			return {...item, x: 0, y: 0}
		}

		const {x, y} = projectFn(getLonLat(item));

		return {...item, x, y}
	});
</script>

<g class='SvgMarkers'>
	{#each markers as {x, y}}
		<g
			class='marker'
			transform='translate({x},{y})'
		>
			<circle r=2 />
		</g>
	{/each}
</g>

<style>
	.marker {
		fill-opacity: 0.75;
		cursor: pointer;
	}
</style>
